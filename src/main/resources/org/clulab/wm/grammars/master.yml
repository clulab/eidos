taxonomy: org/clulab/wm/grammars/taxonomy.yml

vars:
  increase_triggers: "acceler|aid|augment|better|boost|elev|enhanc|greater|high|improv|increas|prolong|promot|rais|reactivat|restor|retent|stimul|support|synerg|up-regul|upregul"

  decrease_triggers: "attenu|abolish|abrog|advers|antagon|arrest|attenu|block|collaps|cut|deactiv|decimat|declin|decreas|degrad|deplet|depress|deregul|deteriorat|diminish|disrupt|down-reg|downreg|dysregul|elimin|exhaust|impair|imped|inactiv|inadequate|inhibit|knockdown|limit|less|loss|low|negat|nullifi|perturb|phase|poor|prevent|reduc|reliev|repress|resist|restrict|revers|sequester|shortage|shrink|shutdown|slow|starv|suppress|supress|worse"

  cause_triggers: "activat|allow|cataly|caus|contribut|driv|elicit|enabl|induc|initi|interconvert|lead|led|mediat|modul|produc|signal|synthes|target|trigger|underli|"

  affect_triggers: "affect|alter|chang|impact|influenc|modifi|modify"

  #correlation_triggers: "associat|correlat"
  #other_triggers: "accept|direct|necess|overexpress|potenti|re-express|rescu|"

rules:
  #Entities are found with EntityFinder! Not extracted here!


  #Quantifiers
  - import: org/clulab/wm/grammars/quantifiers.yml
    vars:
      rulepriority: "1"

  #Transparent Words
  - import: org/clulab/wm/grammars/transparent.yml
    vars:
      rulepriority: "1"

  #Events
  # TODO: 'with X, Y...' sentences:
  # example: "With the high cost of production, food imports will further reduce farmersâ€™ chances to make a living from agriculture."
  # example: "With increases in poverty levels people become more vulnerable to climate change and other risks."
  # TODO: rules for 'become' where do modifications live? causality?
  # example: "With increases in poverty levels people become more vulnerable to climate change and other risks."
  # example: "There will be a small increase in crop diversity due to the need to combat the climate and market risks
  #            as both of these might become more volatile in the future."
  # TODO: correlation rules
  # example: "Significant decline in poverty will be associated with a decrease in family size and increase in non-farm income ."

  #Step 1: find the direct attachments of entities (e.g. "small puppies")
  #TODO: make sure the Increase/Decrease are in avoid.yml
  - import: org/clulab/wm/grammars/entityQuantification.yml
    vars:
      rulepriority: "2"
      action: applyAttachment #Should add quantifier to state of entity
      label: Quantification

  #Step 2: Find other entity-modifying events (e.g. "Increase in rainfall")
  - import: org/clulab/wm/grammars/modifiersTemplate.yml
    vars:
      objrulepriority: "4"
      modrulepriority: "3"
      action: applyAttachment #Should add Increase/Decrease to state of entity
      label: Increase
      trigger: ${ increase_triggers }

  - import: org/clulab/wm/grammars/modifiersTemplate.yml
    vars:
      objrulepriority: "4"
      modrulepriority: "3"
      action: applyAttachment #Should add Increase/Decrease to state of entity
      label: Decrease
      trigger: ${ decrease_triggers }

  #Step 3: Find entity-linking events (e.g. "rainfall causes flooding")
  #Acts upon entities

  # ------------ Causal ------------
  - import: org/clulab/wm/grammars/causal.yml
    vars:
      rulepriority: "6"
      addlabel: "Causal"
      label: Causal
      trigger: ${cause_triggers} | ${increase_triggers} | ${decrease_triggers}

  - import: org/clulab/wm/grammars/linkersTemplate.yml
    vars:
      rulepriority: "6"
      addlabel: "Causal"
      label: Causal
      trigger: ${cause_triggers} | ${increase_triggers} | ${decrease_triggers}

  - import: org/clulab/wm/grammars/reverse_direction_causal.yml
    vars:
      rulepriority: "6"
      addlabel: "Causal"
      label: Causal
      trigger: "result|effect"


  # ------------ Affect ------------
  - import: org/clulab/wm/grammars/linkersTemplate.yml
    vars:
      rulepriority: "6"
      addlabel: "Affect"
      label: Affect
      trigger: ${affect_triggers}


  # ------------ Origin ------------
  - import: org/clulab/wm/grammars/origin.yml
    vars:
      rulepriority: "6"
      label: Origin
      trigger: "from|for"
      #action: ? #


  # ------------ TransparentLinker ------------
  - import: org/clulab/wm/grammars/transparentLinkers.yml
    vars:
      rulepriority: "6"
      label: TransparentLink
      trigger: "from"
      #action: ? #
