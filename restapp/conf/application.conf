# Security Filter Configuration - Content Security Policy
play.filters.headers {
  contentSecurityPolicy = "default-src 'self' blob:;"
  contentSecurityPolicy = ${play.filters.headers.contentSecurityPolicy}" img-src 'self' data:  *.fbcdn.net *.twimg.com *.googleusercontent.com *.xingassets.com vk.com *.yimg.com secure.gravatar.com;"
  contentSecurityPolicy = ${play.filters.headers.contentSecurityPolicy}" style-src 'self' 'unsafe-inline' cdnjs.cloudflare.com maxcdn.bootstrapcdn.com cdn.jsdelivr.net fonts.googleapis.com;"
  contentSecurityPolicy = ${play.filters.headers.contentSecurityPolicy}" font-src 'self' fonts.gstatic.com fonts.googleapis.com cdnjs.cloudflare.com;"
  contentSecurityPolicy = ${play.filters.headers.contentSecurityPolicy}" script-src 'self' cdnjs.cloudflare.com;"
  contentSecurityPolicy = ${play.filters.headers.contentSecurityPolicy}" connect-src 'self' twitter.com *.xing.com;"
  # For Cytoscape graph layout
  contentSecurityPolicy = ${play.filters.headers.contentSecurityPolicy}" worker-src 'self' blob:;"
}

play.http.secret.key = "changeme"

play.filters.enabled += "play.filters.cors.CORSFilter"

# These are needed for the Swagger Editor and UI which are being served
# by docker from other ports.  Play won't repond on 9000 otherwise.
play.filters.cors {
  allowedOrigins = ["http://localhost:9001", "http://localhost:9002"]
}

# play.http.parser.maxMemoryBuffer=128K
# play.http.parser.maxDiskBuffer property, it defaults to 10MB. The multipart/form-data parser also enforces the text max length property for the aggregate of the data fields.
# parse.text(maxLength = 1024 * 10)


akka {
  # See https://doc.akka.io/docs/akka/current/logging.html
  loglevel = "DEBUG"
  # Log the complete configuration at INFO level when the actor system is started.
  # This is useful when you are uncertain of what configuration is used
  log-config-on-start = off

#  coordinated-shutdown {
#    exit-jvm = on
#    terminate-actor-system = on
#  }

  actor {
    debug {
      # enable function of LoggingReceive, which is to log any received message
      receive = on
      # enable DEBUG logging of all AutoReceiveMessages (Kill, PoisonPill etc.)
      autoreceive = on
      # enable DEBUG logging of actor lifecycle changes
      lifecycle = on
      # enable DEBUG logging of unhandled messages
      unhandled = on
      # enable DEBUG logging of all LoggingFSMs for events, transitions and timers
      fsm = off
      # enable DEBUG logging of subscription changes on the eventStream
      event-stream = off
    }

    provider = local
    deployment {
      "/readers" {
        router = smallest-mailbox-pool
        nr-of-instances = 6
      }
    }
    warn-about-java-serializer-usage = off
  }
}

# Akka-based Processor Server configuration:
#ProcessorServer {
#  akka {
#
#    actor {
#      provider = "akka.remote.RemoteActorRefProvider"
#      deployment {
#        "/procActorPool" {
#          router = round-robin-pool
#          nr-of-instances = 11
#        }
#      }
#      warn-about-java-serializer-usage = off
#    }

#    remote {
#      enabled-transports = ["akka.remote.netty.tcp"]
#      maximum-payload-bytes = 3 MiB
#      netty.tcp {
#        hostname = "127.0.0.1"
#        port = 2552
#        maximum-frame-size = 3 MiB
#        message-frame-size = 3 MiB
#        receive-buffer-size = 3 MiB
#        send-buffer-size = 3 MiB
#      }
#      log-sent-messages = on
#      log-received-messages = on
#    }
#  }

#  server {
#  }

#
# Configuration file for the main subproject of the Processors library.
#

# Akka-based Processor  Client configuration:
#ProcessorClient {
#  akka {
#    loglevel = "INFO"
#
#    coordinated-shutdown {
#      exit-jvm = on
#      terminate-actor-system = on
#    }
#
#    actor {
#      provider = "akka.remote.RemoteActorRefProvider"
#      warn-about-java-serializer-usage = off
#    }
#
#    remote {
#      enabled-transports = ["akka.remote.netty.tcp"]
#      maximum-payload-bytes = 3 MiB
#      netty.tcp {
#        hostname = "127.0.0.1"
#        port = 0
#        maximum-frame-size = 3 MiB
#        message-frame-size = 3 MiB
#        receive-buffer-size = 3 MiB
#        send-buffer-size = 3 MiB
#      }
#      log-sent-messages = on
#      log-received-messages = on
#    }
#  }
#
#  server {
#    // path to the processor core server
#    // path = "akka.tcp://procServer@192.168.1.12:2552/user/procActorPool"
#    path = "akka.tcp://procServer@127.0.0.1:2552/user/procActorPool"
#  }
#}
